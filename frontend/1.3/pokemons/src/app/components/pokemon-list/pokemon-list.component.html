<div class="container">
  <h1 (click)="goToHome()">Pokédex</h1>

  @if (loading) {
  <app-loader />
  } @else {
  <div class="pokemon-grid">
    @for (pokemon of pokemons; track pokemon.name) {
    <div
      class="pokemon-card"
      @fadeIn
      [id]="'pokemon-' + getPokemonId(pokemon.url)"
    >
      <a
        [routerLink]="['/pokemon', getPokemonId(pokemon.url)]"
        [queryParams]="{ page: offset / limit + 1 }"
      >
        <img
          [src]="getPokemonImage(pokemon.url)"
          [alt]="pokemon.name"
          (load)="onImageLoad(pokemon.name)"
          [class.loading]="!loadedImages.has(pokemon.name)"
        />
        <h3>{{ pokemon.name | titlecase }}</h3>
      </a>
    </div>
    }
  </div>
  }

  <div class="pagination">
    <button (click)="loadPrevious()" [disabled]="offset === 0">
      ← Previous
    </button>
    <span class="page-number">Page {{ offset / limit + 1 }}</span>
    <button (click)="loadNext()">Next →</button>
  </div>
</div>
